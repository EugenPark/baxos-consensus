services:
  client_11:
    container_name: client_11
    build:
      dockerfile: experiments/reads/client.dockerfile
      context: ../../
    environment:
      CLIENT_ID: 11
    volumes:
      - logs:/logs
    depends_on:
      - replica_0
      - replica_1
      - replica_2
      - replica_3

  replica_0:
    container_name: replica_0
    build:
      dockerfile: experiments/reads/replica.dockerfile
      context: ../../
    environment:
      REPLICA_ID: 0
    volumes:
      - logs:/logs
  replica_1:
    container_name: replica_1
    build:
      dockerfile: experiments/reads/replica.dockerfile
      context: ../../
    environment:
      REPLICA_ID: 1
    volumes:
      - logs:/logs
  replica_2:
    container_name: replica_2
    build:
      dockerfile: experiments/reads/replica.dockerfile
      context: ../../
    environment:
      REPLICA_ID: 2
    volumes:
      - logs:/logs
  replica_3:
    container_name: replica_3
    build:
      dockerfile: experiments/reads/replica.dockerfile
      context: ../../
    environment:
      REPLICA_ID: 3
    volumes:
      - logs:/logs

volumes:
  logs:
